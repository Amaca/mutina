[data-appear]:not(.splitting) {
    opacity: 0;
    transform: translateY(30px);
    transition: all 1000ms cubic-bezier(0.320, 0.000, 0.290, 0.990) !important;

    &.appeared {
        opacity: 1;
        transform: translateY(0px);
    }
}

.splitting[data-appear] {

    .char {
        display: inline-block;
        opacity: 0;
        transform: translateX(10px);
        transition: none;

    }

    &.appeared {

        .char {
            opacity: 1;
            transform: translateX(0px);
            transition: all 1000ms cubic-bezier(0.320, 0.000, 0.290, 0.990) calc(40ms * var(--char-index));
        }
    }

    // @for $i from 1 to 999 {
    // 	.char:nth-child(#{$i}) {
    // 		transition-delay: $i * 0.1s;
    // 	}
    // }
}

.transition {
    position: fixed;
    z-index: 9999;
    bottom: 0;
    transform-origin: bottom;
    left: 0;
    width: 100vw;
    height: 0;
    background: $dark;
    overflow: hidden;

    img {
        width: 100vw;
        height: auto;
        position: relative;
        z-index: 2;
        bottom: -10%;
        opacity: 0.4;
        top: 60%;
    }

    &.intro {
        height: 100vh;
        transition: all 1000ms $smooth;
    }

    &.outro {
        top: 0;
        bottom: auto;
        height: 0;
        transform-origin: top;
        transition: all 1000ms $smooth;
    }
}


.barba-container {
    transition: all 800ms ease-in-out;

    &.starting-leave {
        filter: grayscale(100%);
    }

    &.end-leave {
        transform: translateY(-30vh);
    }

    &.starting-enter {
        filter: grayscale(100%);
    }
}